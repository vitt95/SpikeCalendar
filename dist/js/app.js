(()=>{"use strict";var e=function(e,t){if(""!=e)for(var n=0;n<t.length;n++)t[n].classList.toggle(e)};const t=function(t){var n=document.getElementById(t),a=document.querySelectorAll(".calendar-table td"),d=0==n.parentElement.clientWidth?n.parentElement.offsetWidth:n.parentElement.clientWidth;if(console.log(d),console.log(n.parentElement.clientWidth),n.parentElement)switch(!0){case d<=370:e("minus",a);break;case d<=576&&d>370:e("little",a);break;case d<=767&&d>576:e("medium",a);break;case d<=991&&d>767:e("large",a);break;case d<=1999&&d>991||d>1999:e("xlarge",a)}};var n=function(e){document.querySelector(".weekend").style.background=e.weekEndColor},a=function(e){if("default"!=e.disabledColor)for(var t=document.getElementsByClassName("disabled"),n=0;n<t.length;n++)t[n].style.background=e.disabledColor},d=function(){for(var e,t=document.querySelectorAll("[data-date]"),n=!1,a=[],d=function(d){t[d].addEventListener("click",(function(e){})),t[d].addEventListener("mousedown",(function(i){if(document.getElementsByTagName("body")[0].style.userSelect="none",n=!0,a.push(i.target),!t[d].classList.contains("disabled")){e=d;var o=document.querySelectorAll("td.selected");o&&o.forEach((function(e){e.classList.remove("selected")})),t[d].classList.add("selected")}})),t[d].addEventListener("mouseover",(function(i){if(n&&!t[d].classList.contains("disabled")&&e<d){if(i.target.classList.add("selected"),e+1<d){console.log(e+1);for(var o=d;o>e;o--)t[o].classList.add("selected"),a.push(t[o])}a.push(i.target)}i.target.classList.add("hover")})),t[d].addEventListener("mouseup",(function(e){n=!1,document.getElementsByTagName("body")[0].style.userSelect="auto";var o=a[0].attributes[0].value,r=a[a.length-1].attributes[0].value;if(a=[],!t[d].classList.contains("disabled")){var l=document.getElementById("__spikeModal");l&&document.getElementsByTagName("body")[0].removeChild(l),i(o,r)}})),t[d].addEventListener("mouseleave",(function(e){e.target.classList.remove("hover")}))},o=0;o<t.length;o++)d(o)},i=function(e,t){var n=document.createElement("div");n.classList.add("spikeCalendarEvent");var a=document.createElement("div");a.classList.add("spikeCalendarEventContent");var d=document.createElement("h3");d.classList.add("spikeCalendarTitleHeading"),d.innerText="Crea evento";var i=document.createElement("div");i.classList.add("spikeCalendarEventWrapper");var m=u(),p=r("spikeCalendarEventDateInputStart",e,"spikeEventCalInputDateGroup","Inizio","spikeCalendarEventDateInput"),h=r("spikeCalendarEventDateInputEnd",t,"spikeEventCalInputDateGroup","Fine","spikeCalendarEventDateInput");m.appendChild(p),m.appendChild(h);var g=u();g.appendChild(r("spikeCalendarEventTitleInput",!1,!1,"Titolo evento","spikeEventCalInputTitle","spikeEventTitleInputField"));var y=u("spikeCalendarEventTextRow","spikeCalendarRow");y.appendChild(s("spikeCalendarEventTxtNote","Note","spikeCalendarEventTextArea","spikeCalendarEventTextAreaGroup"));var f=u(!1,"spikeModalButtonRow");f.appendChild(c("spikeCalendarEventClose","Chiudi",!0,"spikeEventWrapButton","btn","btn-warning")),f.appendChild(c("spikeCalendarEventSubmit","Crea",!0,"spikeEventWrapButton","btn","btn-success")),a.appendChild(d),n.appendChild(a),a.appendChild(i),i.appendChild(m),i.appendChild(g),i.appendChild(y),i.appendChild(f),l(n);var E=o();l(E),v()},o=function(){var e=document.createElement("div");e.classList.add("spikeCalendarObs");var t=document.getElementsByTagName("body")[0];return t.style.position="relative",t.style.overflowY="hidden",e},r=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3?arguments[3]:void 0,d=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0,o=document.createElement("div");o.classList.add(d);var r=document.createElement("label");r.setAttribute("for",e),r.innerText=a;var l=document.createElement("input");return l.classList.add("form-control",i),!1!==t&&l.setAttribute("value",t),n&&l.setAttribute("disabled","true"),o.appendChild(r),o.appendChild(l),o},l=function(e){document.getElementsByTagName("body")[0].appendChild(e)},s=function(e,t,n,a){var d=document.createElement("div");d.classList.add(a);var i=document.createElement("label");i.setAttribute("for",e),i.innerText=t;var o=document.createElement("textarea");return o.id=e,o.classList.add("form-control",n),d.appendChild(i),d.appendChild(o),d},c=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],d=document.createElement("button");d.id=e;for(var i=arguments.length,o=new Array(i>4?i-4:0),r=4;r<i;r++)o[r-4]=arguments[r];if(d.innerText=t,o.forEach((function(e){d.classList.add(e)})),n){var l=document.createElement("div");return l.appendChild(d),a&&l.classList.add(a),l}return d},u=function(){var e=document.createElement("div");e.classList.add("row");for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return n.forEach((function(t){e.classList.add(t)})),e},v=function(){var e=document.getElementById("spikeCalendarEventClose");document.getElementById("spikeCalendarEventSubmit"),e.addEventListener("click",(function(e){var t=document.getElementsByClassName("spikeCalendarEvent")[0],n=document.getElementsByClassName("spikeCalendarObs")[0],a=document.getElementsByTagName("body")[0];a.style.position="unset",a.style.overflowY="scroll",a.removeChild(t),a.removeChild(n)}))},m=["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],p=["Lunedì","Martedì","Mercoledì","Giovedì","Venerdì","Sabato","Domenica"],h=["Lun","Mar","Mer","Giov","Ven","Sab","Dom"],g=new Date,y=g.getDate(),f=g.getMonth(),E=g.getFullYear(),b=function(e,t){for(var n=document.getElementById(e),a=0;a<p.length;a++){var d=document.createElement("th");d.innerText=t.shortDays?h[a]:p[a],d.classList.add("dayth"),n.append(d)}},C=function(){for(var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{daysInMonth,paddingDays,currentDay,daysPrevMonth,nextMonthDayDifference},n=arguments.length>1?arguments[1]:void 0,a=0,d=t.daysPrevMonth-t.paddingDays,i=document.getElementById("calTbody"),o=new Date,r=1;r<t.daysInMonth+t.paddingDays+t.nextMonthDayDifference;r++){if(r%p.length==1){var l=document.createElement("tr");l.classList.add("tr-body"),i.append(l)}var s=document.getElementsByClassName("tr-body"),c=document.createElement("td"),u=void 0;r>t.paddingDays&&r-t.paddingDays<=t.daysInMonth?(e=D(c,n,o,0,r-t.paddingDays),u='<div class="'.concat(5==e||6==e?"weday ":"day",'">').concat(r-t.paddingDays,"</div>").concat(L(o)?"<div class='today' title='Today'><span></span></div>":""),!n.disableWeekend||5!=e&&6!=e||(c.setAttribute("disabled","true"),c.classList.add("disabled"))):r<=t.paddingDays?(e=D(c,n,o,-1,d+1),u='<div class="'.concat(5==e||6==e?"weday":"day",'">').concat(++d,"</div>"),c.setAttribute("disabled","true"),c.classList.add("disabled")):r-t.paddingDays>t.daysInMonth&&(e=D(c,n,o,1,a+1),u='<div class="'.concat(5==e||6==e?"weday":"day",'">').concat(++a,"</div>"),c.setAttribute("disabled","true"),c.classList.add("disabled")),c.innerHTML=u,s[s.length-1].append(c)}},D=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,d=arguments.length>4?arguments[4]:void 0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;return n.setFullYear(t.year+i,t.month+a,d),e.setAttribute("data-date",n.toLocaleDateString()),k(n)},L=function(e){return new Date(Date.now()).toLocaleDateString()==e.toLocaleDateString()},k=function(e){var t=e.toLocaleDateString("it-IT",{weekday:"long"}),n=p.indexOf(t.charAt(0).toUpperCase()+t.slice(1));return console.log("".concat(t," - ").concat(n)),n},w=function(e,t){var n=document.createElement("table");return n.classList.add("table","calendar-table","responsive"),n.innerHTML="\n ".concat('<thead>\n     <tr id="calendarDaysRow"></tr>\n </thead>',"\n ").concat('<tbody id="calTbody" class="calendarTbody"></tbody>',"\n "),n},M=function(){var e=[],t=document.createElement("colgroup");return t.classList.add("weekend"),t.setAttribute("span","2"),e.push(t),(t=document.createElement("colgroup")).classList.add("weekday"),t.setAttribute("span","5"),e.push(t),e},T=function(e,t){var n=document.createElement("div");n.classList.add("calendarHeadingButtons");var a=document.createElement("div");a.classList.add("calendarHeadingSubButton");var d=document.createElement("span");d.id="iconPrevCalendar",d.innerHTML="default"==t.iconPrev?'<i class="bi bi-caret-left-square-fill"></i>':t.iconPrev;var i=document.createElement("span");i.id="iconNextCalendar",i.innerHTML="default"==t.iconNext?'<i class="bi bi-caret-right-square-fill"></i>':t.iconNext,a.appendChild(d),a.appendChild(i),n.appendChild(a);var o=document.createElement("div");o.classList.add("calendarHeading");var r=document.createElement("h2");return r.innerText="".concat(m[e]),o.appendChild(r),{buttonsHeading:n,textHeading:o}},I=function(e){var d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{daysInMonth,paddingDays,currentDay,dateString,daysPrevMonth,firstDay,nextMonthDayDifference,year,month,day},i=arguments.length>2?arguments[2]:void 0,o=document.getElementById(e);console.log(o);var r=document.getElementsByClassName("calwrapper")[0];for(void 0!==r&&0!=r.length||((r=document.createElement("div")).classList.add("calwrapper"),o.insertAdjacentElement("beforebegin",r),r.appendChild(o));o.hasChildNodes();)o.removeChild(o.lastChild);var l=w(d.month),s=T(d.month,i);o.insertAdjacentElement("afterbegin",s.buttonsHeading),s.buttonsHeading.insertAdjacentElement("afterend",s.textHeading),o.appendChild(l),M().forEach((function(e){l.insertAdjacentElement("afterbegin",e)})),b("calendarDaysRow",i),C(d,i),1==i.responsive&&t(e),"default"!=i.weekEndColor&&n(i),"default"!=i.disabledColor&&a(i)},x=function(e,t){var n=null==t.year?E:t.year,a=null==t.month?f:t.month,i=null==t.day?y:t.day,o=new Date(n,a,1),r=new Date(n,a+1,0).getDate(),l=new Date(n,a,0).getDate(),s=6*p.length,c=o.toLocaleDateString("it-IT",{weekday:"long",year:"numeric",month:"numeric",day:"numeric"}),u=c.split(" ")[0],v=p.indexOf(u.charAt(0).toUpperCase()+u.slice(1));I(e,{daysInMonth:r,paddingDays:v,currentDay:u,dateString:c,daysPrevMonth:l,firstDay:o,nextMonthDayDifference:s-(r+v-1),year:n,day:i,month:a},t),function(e,t){var n=document.getElementById("iconPrevCalendar"),a=document.getElementById("iconNextCalendar");t.rangeSelection&&d(),n.addEventListener("click",(function(){t.month=t.month>0?t.month-1:11,x(e,t)})),a.addEventListener("click",(function(){t.month=t.month<11?t.month+1:0,x(e,t)}))}(e,t)};!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.disableWeekend,a=void 0!==n&&n,d=t.disableCol,i=void 0===d?[]:d,o=t.iconNext,r=void 0===o?"default":o,l=t.iconPrev,s=void 0===l?"default":l,c=t.responsive,u=void 0!==c&&c,v=t.rangeSelection,m=void 0!==v&&v,p=t.borderCollapse,h=void 0!==p&&p,g=t.borderColor,b=void 0!==g&&g,C=t.borderSpacing,D=void 0!==C&&C,L=t.shortDays,k=void 0!==L&&L,w=t.weekEndColor,M=void 0===w?"default":w,T=t.disabledColor,I=void 0===T?"default":T,S=t.year,A=void 0===S?E:S,B=t.month,N=void 0===B?f:B,H=t.day,P=void 0===H?y:H,W={responsive:u,disableWeekend:a,iconNext:r,iconPrev:s,rangeSelection:m,borderCollapse:h,borderColor:b,borderSpacing:D,shortDays:k,weekEndColor:M,disabledColor:I,year:A,month:N,day:P,disableCol:i};x(e,W)}("calendar-div",{responsive:!0,rangeSelection:!0,disabledColor:"#eee",disableWeekend:!0,shortDays:!0})})();