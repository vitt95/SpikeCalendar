(()=>{"use strict";var e=function(e,t){if(""!=e)for(var n=0;n<t.length;n++)t[n].classList.toggle(e)};const t=function(t){var n=document.getElementById(t),a=document.querySelectorAll(".calendar-table td"),d=0==n.parentElement.clientWidth?n.parentElement.offsetWidth:n.parentElement.clientWidth;if(console.log(d),console.log(n.parentElement.clientWidth),n.parentElement)switch(!0){case d<=370:e("minus",a);break;case d<=576&&d>370:e("little",a);break;case d<=767&&d>576:e("medium",a);break;case d<=991&&d>767:e("large",a);break;case d<=1999&&d>991||d>1999:e("xlarge",a)}};var n=function(e){document.querySelector(".weekend").style.background=e.weekEndColor},a=function(e){if("default"!=e.disabledColor)for(var t=document.getElementsByClassName("disabled"),n=0;n<t.length;n++)t[n].style.background=e.disabledColor},d=function(){for(var e,t,n=document.querySelectorAll("[data-date]"),a=!1,d=[],l=0,c=function(c){n[c].addEventListener("click",(function(e){})),n[c].addEventListener("mousedown",(function(i){document.getElementsByTagName("body")[0].style.userSelect="none",a=!0,n[c].classList.contains("disabled")||(e=t=c,d.push(i.target),o(),n[c].classList.add("selected","firstSelect"))})),n[c].addEventListener("mouseover",(function(i){if(a&&!n[c].classList.contains("disabled")&&e<=c){if(l=c,t=0==t?l:Math.max(l,t),d.push(n[c]),n[c].classList.add("selected"),e+1<c)for(var o=c-1;o>e;o--)n[o].classList.add("selected");if(t>l)for(var r=t;r>l;r--)n[r].classList.remove("selected")}i.target.classList.add("hover")})),n[c].addEventListener("mouseup",(function(e){a=!1,document.getElementsByTagName("body")[0].style.userSelect="auto",console.log(d);var t=d[0].attributes[0].value;if(d=[],!n[c].classList.contains("disabled")&&i(t,"/","/").getTime()<=i(n[c].attributes[0].value,"/","/").getTime()){var o=n[c].attributes[0].value;s(),r(t,o)}})),n[c].addEventListener("mouseleave",(function(i){i.target.classList.remove("hover"),i.target.classList.contains("selected")&&a&&!i.target.classList.contains("firstSelect")&&c>e&&(n[c].classList.remove("selected"),d.pop(),t--)}))},u=0;u<n.length;u++)c(u)},i=function(e,t,n){var a=e.split(t);return new Date("".concat(a[1]).concat(n).concat(a[0]).concat(n).concat(a[2]))},o=function(){var e=document.querySelectorAll("td.selected");e&&e.forEach((function(e){e.classList.remove("selected"),e.classList.contains("firstSelect")&&e.classList.remove("firstSelect")}))},r=function(e,t){var n=document.createElement("div");n.classList.add("spikeCalendarEvent");var a=document.createElement("div");a.classList.add("spikeCalendarEventContent");var d=document.createElement("h3");d.classList.add("spikeCalendarTitleHeading"),d.innerText="Crea evento";var i=document.createElement("div");i.classList.add("spikeCalendarEventWrapper");var o=p(),r=c("spikeCalendarEventDateInputStart",e,"spikeEventCalInputDateGroup","Inizio","spikeCalendarEventDateInput"),s=c("spikeCalendarEventDateInputEnd",t,"spikeEventCalInputDateGroup","Fine","spikeCalendarEventDateInput");o.appendChild(r),o.appendChild(s);var y=p();y.appendChild(c("spikeCalendarEventTitleInput",!1,!1,"Titolo evento","spikeEventCalInputTitle","spikeEventTitleInputField"));var g=p("spikeCalendarEventTextRow","spikeCalendarRow");g.appendChild(v("spikeCalendarEventTxtNote","Note","spikeCalendarEventTextArea","spikeCalendarEventTextAreaGroup"));var f=p(!1,"spikeModalButtonRow");f.appendChild(m("spikeCalendarEventClose","Chiudi",!0,"spikeEventWrapButton","btn","btn-warning")),f.appendChild(m("spikeCalendarEventSubmit","Crea",!0,"spikeEventWrapButton","btn","btn-success")),a.appendChild(d),n.appendChild(a),a.appendChild(i),i.appendChild(o),i.appendChild(y),i.appendChild(g),i.appendChild(f),u(n);var b=l();u(b),h()},s=function(){var e=document.getElementById("__spikeModal");e&&document.getElementsByTagName("body")[0].removeChild(e)},l=function(){var e=document.createElement("div");e.classList.add("spikeCalendarObs");var t=document.getElementsByTagName("body")[0];return t.style.position="relative",t.style.overflowY="hidden",e},c=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3?arguments[3]:void 0,d=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0,o=document.createElement("div");o.classList.add(d);var r=document.createElement("label");r.setAttribute("for",e),r.innerText=a;var s=document.createElement("input");return s.classList.add("form-control",i),!1!==t&&s.setAttribute("value",t),n&&s.setAttribute("disabled","true"),o.appendChild(r),o.appendChild(s),o},u=function(e){document.getElementsByTagName("body")[0].appendChild(e)},v=function(e,t,n,a){var d=document.createElement("div");d.classList.add(a);var i=document.createElement("label");i.setAttribute("for",e),i.innerText=t;var o=document.createElement("textarea");return o.id=e,o.classList.add("form-control",n),d.appendChild(i),d.appendChild(o),d},m=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],d=document.createElement("button");d.id=e;for(var i=arguments.length,o=new Array(i>4?i-4:0),r=4;r<i;r++)o[r-4]=arguments[r];if(d.innerText=t,o.forEach((function(e){d.classList.add(e)})),n){var s=document.createElement("div");return s.appendChild(d),a&&s.classList.add(a),s}return d},p=function(){var e=document.createElement("div");e.classList.add("row");for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return n.forEach((function(t){e.classList.add(t)})),e},h=function(){var e=document.getElementById("spikeCalendarEventClose");document.getElementById("spikeCalendarEventSubmit"),e.addEventListener("click",(function(e){var t=document.getElementsByClassName("spikeCalendarEvent")[0],n=document.getElementsByClassName("spikeCalendarObs")[0],a=document.getElementsByTagName("body")[0];a.style.position="unset",a.style.overflowY="scroll",a.removeChild(t),a.removeChild(n)}))},y=["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],g=["Lunedì","Martedì","Mercoledì","Giovedì","Venerdì","Sabato","Domenica"],f=["Lun","Mar","Mer","Giov","Ven","Sab","Dom"],b=new Date,E=b.getDate(),C=b.getMonth(),D=b.getFullYear(),L=function(e,t){for(var n=document.getElementById(e),a=0;a<g.length;a++){var d=document.createElement("th");d.innerText=t.shortDays?f[a]:g[a],d.classList.add("dayth"),n.append(d)}},k=function(){for(var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{daysInMonth,paddingDays,currentDay,daysPrevMonth,nextMonthDayDifference},n=arguments.length>1?arguments[1]:void 0,a=0,d=t.daysPrevMonth-t.paddingDays,i=document.getElementById("calTbody"),o=new Date,r=1;r<t.daysInMonth+t.paddingDays+t.nextMonthDayDifference;r++){if(r%g.length==1){var s=document.createElement("tr");s.classList.add("tr-body"),i.append(s)}var l=document.getElementsByClassName("tr-body"),c=document.createElement("td"),u=void 0;r>t.paddingDays&&r-t.paddingDays<=t.daysInMonth?(e=M(c,n,o,0,r-t.paddingDays),u='<div class="'.concat(5==e||6==e?"weday ":"day",'">').concat(r-t.paddingDays,"</div>").concat(w(o)?"<div class='today' title='Today'><span></span></div>":""),!n.disableWeekend||5!=e&&6!=e||(c.setAttribute("disabled","true"),c.classList.add("disabled"))):r<=t.paddingDays?(e=M(c,n,o,-1,d+1),u='<div class="'.concat(5==e||6==e?"weday":"day",'">').concat(++d,"</div>"),(n.disablePrevMonthDays||n.disableWeekend&&(5==e||6==e))&&(c.setAttribute("disabled","true"),c.classList.add("disabled")),c.classList.add("prevMonthDay")):r-t.paddingDays>t.daysInMonth&&(e=M(c,n,o,1,a+1),u='<div class="'.concat(5==e||6==e?"weday":"day",'">').concat(++a,"</div>"),(n.disableNextMonthDays||n.disableWeekend&&(5==e||6==e))&&(c.setAttribute("disabled","true"),c.classList.add("disabled")),c.classList.add("nextMonthDay")),c.innerHTML=u,l[l.length-1].append(c)}},M=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,d=arguments.length>4?arguments[4]:void 0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;return n.setFullYear(t.year+i,t.month+a,d),e.setAttribute("data-date",n.toLocaleDateString()),x(n)},w=function(e){return new Date(Date.now()).toLocaleDateString()==e.toLocaleDateString()},x=function(e){var t=e.toLocaleDateString("it-IT",{weekday:"long"});return g.indexOf(t.charAt(0).toUpperCase()+t.slice(1))},T=function(e,t){var n=document.createElement("table");return n.classList.add("table","calendar-table","responsive"),n.innerHTML="\n ".concat('<thead>\n     <tr id="calendarDaysRow"></tr>\n </thead>',"\n ").concat('<tbody id="calTbody" class="calendarTbody"></tbody>',"\n "),n},S=function(){var e=[],t=document.createElement("colgroup");return t.classList.add("weekend"),t.setAttribute("span","2"),e.push(t),(t=document.createElement("colgroup")).classList.add("weekday"),t.setAttribute("span","5"),e.push(t),e},I=function(e,t){var n=document.createElement("div");n.classList.add("calendarHeadingButtons");var a=document.createElement("div");a.classList.add("calendarHeadingSubButton");var d=document.createElement("span");d.id="iconPrevCalendar",d.innerHTML="default"==t.iconPrev?'<i class="bi bi-caret-left-square-fill"></i>':t.iconPrev;var i=document.createElement("span");i.id="iconNextCalendar",i.innerHTML="default"==t.iconNext?'<i class="bi bi-caret-right-square-fill"></i>':t.iconNext,a.appendChild(d),a.appendChild(i),n.appendChild(a);var o=document.createElement("div");o.classList.add("calendarHeading");var r=document.createElement("h2");return r.innerText="".concat(y[e]),o.appendChild(r),{buttonsHeading:n,textHeading:o}},A=function(e){var d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{daysInMonth,paddingDays,currentDay,dateString,daysPrevMonth,firstDay,nextMonthDayDifference,year,month,day},i=arguments.length>2?arguments[2]:void 0,o=document.getElementById(e),r=document.getElementsByClassName("calwrapper")[0];for(void 0!==r&&0!=r.length||((r=document.createElement("div")).classList.add("calwrapper"),o.insertAdjacentElement("beforebegin",r),r.appendChild(o));o.hasChildNodes();)o.removeChild(o.lastChild);var s=T(d.month),l=I(d.month,i);o.insertAdjacentElement("afterbegin",l.buttonsHeading),l.buttonsHeading.insertAdjacentElement("afterend",l.textHeading),o.appendChild(s),S().forEach((function(e){s.insertAdjacentElement("afterbegin",e)})),L("calendarDaysRow",i),k(d,i),1==i.responsive&&t(e),"default"!=i.weekEndColor&&n(i),"default"!=i.disabledColor&&a(i)},B=function(e,t){var n=null==t.year?D:t.year,a=null==t.month?C:t.month,i=null==t.day?E:t.day,o=new Date(n,a,1),r=new Date(n,a+1,0).getDate(),s=new Date(n,a,0).getDate(),l=6*g.length,c=o.toLocaleDateString("it-IT",{weekday:"long",year:"numeric",month:"numeric",day:"numeric"}),u=c.split(" ")[0],v=g.indexOf(u.charAt(0).toUpperCase()+u.slice(1));A(e,{daysInMonth:r,paddingDays:v,currentDay:u,dateString:c,daysPrevMonth:s,firstDay:o,nextMonthDayDifference:l-(r+v-1),year:n,day:i,month:a},t),function(e,t){var n=document.getElementById("iconPrevCalendar"),a=document.getElementById("iconNextCalendar");t.rangeSelection&&d(),n.addEventListener("click",(function(){t.month=t.month>0?t.month-1:11,B(e,t)})),a.addEventListener("click",(function(){t.month=t.month<11?t.month+1:0,B(e,t)}))}(e,t)};!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.disableWeekend,a=void 0!==n&&n,d=t.disableCol,i=void 0===d?[]:d,o=t.iconNext,r=void 0===o?"default":o,s=t.iconPrev,l=void 0===s?"default":s,c=t.responsive,u=void 0!==c&&c,v=t.rangeSelection,m=void 0!==v&&v,p=t.borderCollapse,h=void 0!==p&&p,y=t.borderColor,g=void 0!==y&&y,f=t.borderSpacing,b=void 0!==f&&f,L=t.shortDays,k=void 0!==L&&L,M=t.disablePrevMonthDays,w=void 0!==M&&M,x=t.disableNextMonthDays,T=void 0!==x&&x,S=t.weekEndColor,I=void 0===S?"default":S,A=t.disabledColor,N=void 0===A?"default":A,P=t.year,H=void 0===P?D:P,W=t.month,G=void 0===W?C:W,q=t.day,F=void 0===q?E:q,O={responsive:u,disableWeekend:a,iconNext:r,iconPrev:l,rangeSelection:m,borderCollapse:h,borderColor:g,borderSpacing:b,shortDays:k,disableNextMonthDays:T,disablePrevMonthDays:w,weekEndColor:I,disabledColor:N,year:H,month:G,day:F,disableCol:i};B(e,O)}("calendar-div",{responsive:!0,disabledColor:"#eee",disableWeekend:!0,shortDays:!0,disablePrevMonthDays:!0,rangeSelection:!0})})();